/* Responsive design - consolidated media queries */

/* Responsive iframes - applies to all screen sizes */
iframe:not([src*="instagram"]) {
  max-width: 100%;
  height: auto;
}

/* Instagram embeds need their natural height */
iframe[src*="instagram"] {
  max-width: 100%;
}

/* Maintain aspect ratio for video iframes (YouTube only) */
.section-images iframe[src*="youtube"],
.section-container iframe[src*="youtube"] {
  width: 100% !important;
  max-width: 560px;
  aspect-ratio: 16 / 9;
  height: auto !important;
}

/* YouTube in image-grid needs to break out of grid constraints */
.image-grid iframe {
  grid-column: 1 / -1;
  width: 100% !important;
  height: auto !important;
  aspect-ratio: 16 / 9;
  max-width: 560px;
}

/* Discord widget keeps its height */
.section-images iframe[src*="discord"],
.section-container iframe[src*="discord"] {
  width: 100%;
  max-width: 400px;
  height: 500px;
  aspect-ratio: auto;
}

@media (max-width: 768px) {
  /* YouTube embed fills full width on smaller screens */
  .section-images iframe[src*="youtube"],
  .section-container iframe[src*="youtube"],
  .image-grid iframe {
    max-width: 100% !important;
  }
}

@media (max-width: 768px) {
  /* Typography */
  h1 { font-size: 2rem; }
  h2 { font-size: 1.7rem; }

  /* Header */
  .header-container {
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
  }

  nav {
    margin-top: 0.5rem;
  }

  nav a {
    font-size: 1.3rem;
    padding: 0.3rem 0.8rem;
  }

  /* Hero */
  .hero {
    padding: 2rem 0;
  }

  .hero-container {
    flex-direction: column;
    gap: 2rem;
    text-align: center;
  }

  .hero-logo-container {
    max-width: 250px;
    flex-basis: auto;
  }

  .hero-content {
    flex-basis: auto;
    max-width: 100%;
  }

  .hero-buttons {
    justify-content: center;
  }

  /* Sections */
  .section {
    padding: 2rem 0;
  }

  .section-container {
    flex-direction: column !important;
    gap: 2rem;
    text-align: center;
  }

  .section-text, .section-images {
    flex-basis: auto;
    max-width: 100%;
  }

  .image-grid {
    grid-template-rows: repeat(2, 120px);
  }

  /* Discord widget - reduce height on mobile */
  .section-images iframe[src*="discord.com"] {
    height: 350px;
    aspect-ratio: auto;
  }

  /* Coming soon */
  .coming-soon {
    font-size: 24px;
    padding: 15px;
  }

  .coming-soon main {
    padding: 1rem;
  }

  .content-grid {
    grid-template-columns: 1fr;
  }

  /* Events page */
  .top-section {
    flex-direction: column;
  }

  .event-item {
    flex-direction: column;
    gap: 1rem;
  }

  .event-img {
    width: 100%;
    max-width: 300px;
    margin: 0 auto;
  }

  .event-content {
    text-align: center;
  }

  /* Events index page - stack ALL event cards vertically (past and upcoming) */
  .main-content-wrapper div[style*="display: flex"][style*="margin-bottom"] {
    flex-direction: column !important;
    align-items: center !important;
  }

  /* Event cover images - full width and centered */
  div[style*="width: 200px"][style*="height: 200px"][style*="background"] {
    width: 100% !important;
    max-width: 300px !important;
    height: 200px !important;
    margin: 0 auto 1rem auto !important;
    flex-shrink: 1 !important;
  }

  /* Event text content - centered by default */
  .main-content-wrapper div[style*="display: flex"][style*="margin-bottom"] > div:not([style*="background"]) {
    text-align: center;
  }

  /* Only description paragraphs justified */
  .main-content-wrapper div[style*="display: flex"][style*="margin-bottom"] > div:not([style*="background"]) p:not([style*="color: #666"]) {
    text-align: justify;
  }

  /* Individual event pages layout */
  .main-content-wrapper div[style*="display: flex"][style*="margin-bottom: 30px"] {
    flex-direction: column !important;
    align-items: center !important;
  }

  /* Event page cover image - centered */
  .main-content-wrapper img[alt="Event Cover"] {
    width: 100% !important;
    max-width: 350px !important;
    height: auto !important;
    margin: 0 auto 1.5rem auto !important;
    display: block !important;
  }

  /* Event page content text */
  .main-content-wrapper div[style*="display: flex"][style*="margin-bottom: 30px"] > div[markdown] {
    width: 100%;
  }

  /* Center h1, h2 on event pages */
  .main-content-wrapper h1,
  .main-content-wrapper h2 {
    text-align: center;
  }

  /* Justified paragraphs on event pages */
  .main-content-wrapper p {
    text-align: justify;
  }

  /* Bullets aligned left */
  .main-content-wrapper ul,
  .main-content-wrapper ol {
    text-align: left;
  }

  /* Instagram embeds - maintain proper size */
  .instagram-media {
    width: 100% !important;
    max-width: 400px !important;
    min-width: 326px !important;
    margin: 0 auto !important;
  }

  /* Instagram embed container */
  div[style*="column-width"] {
    column-width: auto !important;
    display: block !important;
  }

  div[style*="break-inside"] {
    text-align: center;
  }
}

/* Very small screens */
@media (max-width: 480px) {
  /* Typography */
  h1 { font-size: 1.6rem; }
  h2 { font-size: 1.4rem; }
  h3 { font-size: 1.2rem; }

  /* Header */
  .logo-small a {
    font-size: 2rem;
  }

  nav a {
    font-size: 1.1rem;
    padding: 0.3rem 0.6rem;
  }

  /* Hero */
  .hero-logo-container {
    max-width: 200px;
  }

  .hero-content h2 {
    font-size: 1.5rem;
  }

  .hero-buttons a {
    padding: 0.6rem 0.9rem;
    font-size: 0.9rem;
  }

  /* Main content */
  .main-content-wrapper {
    padding: 2rem 15px;
  }

  /* Discord widget - smaller on very small screens */
  .section-images iframe[src*="discord.com"] {
    height: 300px;
  }

  /* Events */
  .event-card {
    padding: 1rem;
  }

  .event-card .event-card-image {
    max-width: 250px;
  }
}
